(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{858:function(e,t,r){var content=r(889);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("14c0f4c0",content,!0,{sourceMap:!1})},888:function(e,t,r){"use strict";r(858)},889:function(e,t,r){var n=r(10)(!1);n.push([e.i,".user_header[data-v-5c5662c5]{border-bottom:1px solid #eee}.user_header_inner[data-v-5c5662c5]{width:90%;margin:25px auto 0}.user_main[data-v-5c5662c5]{border-bottom:1px solid #eee}.user_more[data-v-5c5662c5]{cursor:pointer;text-align:center;margin:10px 0}",""]),e.exports=n},939:function(e,t,r){"use strict";r.r(t);var n=r(18),o=(r(102),r(27),{components:{VueLoading:r(103).VueLoading},data:function(){return{currentUser:{},users:[],search_name:"",search:[],currentPage:1,totalPage:"",loading:!0,loginJudge:!1}},computed:{apiUrl:function(){return"http://54.248.224.191"}},created:function(){var e=this;localStorage.getItem("id")?this.loginJudge=!0:this.loginJudge=!1,localStorage.getItem("X-Access-Token")?this.$axios.$get("api/users/",{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.currentUser={id:localStorage.getItem("id")},e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.loading=!1})):this.$axios.$get("api/users/").then((function(t){e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.currentUser={id:localStorage.getItem("id")},e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.loading=!1}))},methods:{onSearch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,!e.search_name){t.next=11;break}if(!localStorage.getItem("id")){t.next=7;break}return t.next=5,e.$axios.$get("api/users/search/"+e.search_name,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 5:t.next=9;break;case 7:return t.next=9,e.$axios.$get("api/users/search/"+e.search_name).then((function(t){e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 9:t.next=18;break;case 11:if(!localStorage.getItem("id")){t.next=16;break}return t.next=14,e.$axios.$get("api/users/",{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 14:t.next=18;break;case 16:return t.next=18,e.$axios.$get("api/users/").then((function(t){e.users=[];for(var r=t.data,i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 18:case"end":return t.stop()}}),t)})))()},follow:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,n={user_id:e},r.next=4,t.$axios.$post("api/follows/",n,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 4:t.onSearch();case 5:case"end":return r.stop()}}),r)})))()},unfollow:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,t.$axios.$delete("api/follows/"+e,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 3:t.onSearch();case 4:case"end":return r.stop()}}),r)})))()},userMore:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,r=e.currentPage+1,!e.search_name){t.next=12;break}if(!localStorage.getItem("id")){t.next=8;break}return t.next=6,e.$axios.$get("api/users/search/"+e.search_name+"?page="+r,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){var r;r=t.data;for(var i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 6:t.next=10;break;case 8:return t.next=10,e.$axios.$get("api/users/search/"+e.search_name+"?page="+r).then((function(t){var r;r=t.data;for(var i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 10:t.next=19;break;case 12:if(!localStorage.getItem("id")){t.next=17;break}return t.next=15,e.$axios.$get("api/users?page="+r,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){var r;r=t.data;for(var i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 15:t.next=19;break;case 17:return t.next=19,e.$axios.$get("api/users?page="+r).then((function(t){var r;r=t.data;for(var i=0;i<r.length;i++)e.users.push({id:r[i].attributes.id,image:r[i].attributes.image.url,name:r[i].attributes.name,profile:r[i].attributes.profile,follow_judge:r[i].attributes.follow_judge});e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages,e.loading=!1}));case 19:case"end":return t.stop()}}),t)})))()}}}),l=(r(888),r(55)),c=r(65),d=r.n(c),f=r(165),m=r(215),_=r(275),h=r(163),v=r(282),x=r(41),k=r(119),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto mb-10 pb-5",attrs:{"max-width":"450"}},[e.loading?r("div",{staticClass:"loading"},[r("div",{staticClass:"loading_inner"},[r("p",{staticClass:"loading_inner_text"},[e._v("Loading...")]),e._v(" "),r("vue-loading",{staticClass:"loading_inner_mark",attrs:{type:"beat",color:"gold",size:{width:"60px",height:"60px"}}})],1)]):e._e(),e._v(" "),r("div",{staticClass:"user_header"},[r("div",{staticClass:"user_header_inner"},[r("v-text-field",{attrs:{placeholder:"USER 検索",required:"","prepend-inner-icon":"mdi-magnify",filled:"",rounded:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.search_name,callback:function(t){e.search_name=t},expression:"search_name"}})],1)]),e._v(" "),r("v-list",{attrs:{"three-line":""}},[e._l(e.users,(function(t,n){return[r("v-list-item",{key:"user-"+n,staticClass:"user_main"},[r("v-list-item-avatar",{on:{click:function(r){return e.$router.push("/users/"+t.id)}}},[r("v-img",{attrs:{src:""+e.apiUrl+t.image}})],1),e._v(" "),r("v-list-item-content",{on:{click:function(r){return e.$router.push("/users/"+t.id)}}},[r("v-list-item-title",{domProps:{innerHTML:e._s(t.name)}}),e._v(" "),""==t.profile?r("v-list-item-subtitle"):e._e(),e._v(" "),t.profile?r("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.profile)}}):e._e()],1),e._v(" "),e.loginJudge?[e.currentUser.id==t.id?void 0:[t.follow_judge?r("v-btn",{staticClass:"unfollow",attrs:{small:"",color:"info"},on:{click:function(r){return e.unfollow(t.id)}}},[e._v("フォロー済み")]):r("v-btn",{staticClass:"folow",attrs:{outlined:"",color:"info",small:""},on:{click:function(r){return e.follow(t.id)}}},[e._v("フォロー")])]]:e._e()],2)]}))],2),e._v(" "),e.currentPage==e.totalPage?void 0:r("p",{staticClass:"user_more",on:{click:e.userMore}},[e._v("もっとみる")])],2)}),[],!1,null,"5c5662c5",null);t.default=component.exports;d()(component,{VBtn:f.a,VImg:m.a,VList:_.a,VListItem:h.a,VListItemAvatar:v.a,VListItemContent:x.b,VListItemSubtitle:x.c,VListItemTitle:x.d,VTextField:k.a})}}]);