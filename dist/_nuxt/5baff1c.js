(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{867:function(e,t,n){var content=n(909);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(11).default)("52b767df",content,!0,{sourceMap:!1})},908:function(e,t,n){"use strict";n(867)},909:function(e,t,n){var r=n(10)(!1);r.push([e.i,".map_calendar{margin:0 auto;height:84vh;max-width:850px}.map_calendar_header{display:flex;justify-content:space-between;align-items:center;margin:10px 0 0}.map_calendar_header_title{display:inline-block;font-weight:700;border-bottom:1px solid #333;margin:10px}.map_calendar_create{display:inline-block;margin:10px 0 10px auto}.map_calendar_create_btn_icon{font-size:15px!important}.map_calendar_create_title{width:100%;margin-bottom:-20px}.map_calendar_create_checkbox{align-items:center;width:100%;color:rgba(0,0,0,.6)}.map_calendar_create_checkbox input{display:flex;align-items:center;margin-left:20px}.map_calendar_create_checkbox p{margin-bottom:0;display:flex;align-items:center}.map_calendar_edit_title{width:100%;margin-bottom:-20px}.map_calendar_edit_checkbox{display:flex;align-items:center;width:100%;color:rgba(0,0,0,.6)}.map_calendar_edit_checkbox input{display:flex;align-items:center;margin-left:20px}.map_calendar_edit_checkbox p{margin-bottom:0;display:flex;align-items:center}.button{padding:4px 8px;font-size:12px;margin-right:8px;border:1px solid #eee;border-radius:10px;box-shadow:.3px .3px .3px .3px #eee}.button:hover{box-shadow:unset}.v-calendar .v-event-timed{white-space:break-spaces!important}.v-calendar{border-bottom:1px solid #e0e0e0;height:calc(100vh - 180px)}@media (min-width:960px){.v-calendar{height:calc(100vh - 140px)}}",""]),e.exports=r},948:function(e,t,n){"use strict";n.r(t);var r=n(18),o=(n(102),n(17),n(77),n(27),n(35),{components:{VueLoading:n(103).VueLoading},data:function(){return{today:this.$route.params.id,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],id:"",name:"",day:"",start_time:"",end_time:"",done:!1,color:"",new_name:"",new_day:"",new_start_time:"",new_end_time:"",new_done:!1,new_color:"",colors:[{value:"orange"},{value:"green"},{value:"blue"},{value:"grey"}],menu:!1,menu2:!1,menu3:!1,new_menu:!1,new_menu2:!1,new_menu3:!1,submitForm:!1,loading:!0,load_judge:!1,submitAlert:!1}},created:function(){this.new_day=this.$route.params.id,this.index()},methods:{index:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("api/calendars/"+e.$route.params.id,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.events=[];for(var i=0;i<t.data.length;i++){var n=t.data[i].attributes.start.replace(/T/g," ").replace(".000+09:00",""),r=t.data[i].attributes.end.replace(/T/g," ").replace(".000+09:00","");if(1==t.data[i].attributes.done){e.events.push({id:t.data[i].attributes.id,name:t.data[i].attributes.name,color:"black",first_color:t.data[i].attributes.color,start:n,end:r,done:t.data[i].attributes.done})}else e.events.push({id:t.data[i].attributes.id,name:t.data[i].attributes.name,color:t.data[i].attributes.color,start:n,end:r,done:t.data[i].attributes.done})}e.loading=!1})).catch(e.load_judge=!0);case 2:case"end":return t.stop()}}),t)})))()},create:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("id")){t.next=16;break}return e.loading=!0,n={name:e.new_name,start:e.new_day+" "+e.new_start_time,end:e.new_day+" "+e.new_end_time,done:e.new_done,color:e.new_color},t.next=5,e.$axios.$post("api/calendars/",n,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 5:e.index(),e.new_name="",e.new_day="",e.new_start_time="",e.new_day="",e.new_end_time="",e.new_done="",e.new_color="",e.submitForm=!1,t.next=18;break;case 16:e.submitForm=!1,e.submitAlert=!0;case 18:case"end":return t.stop()}}),t)})))()},showEvent:function(e){var t=this,n=e.nativeEvent,r=e.event,o=function(){var e=new Date(r.start),o=new Date(r.end),c=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),l=e.getHours()+":"+e.getMinutes(),d=o.getHours()+":"+o.getMinutes();t.selectedEvent=r,t.selectedElement=n.target,t.id=t.selectedEvent.id,t.name=t.selectedEvent.name,t.day=c,t.start_time=l,t.end_time=d,t.done=t.selectedEvent.done,1==t.selectedEvent.done?t.color=t.selectedEvent.first_color:t.color=t.selectedEvent.color,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(o,10)):o(),n.stopPropagation()},edit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,n={name:e.name,start:e.day+" "+e.start_time,end:e.day+" "+e.end_time,done:e.done,color:e.color},t.next=4,e.$axios.$patch("api/calendars/"+e.id,n,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 4:e.index(),e.selectedOpen=!1;case 6:case"end":return t.stop()}}),t)})))()},deleteCalendar:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,!window.confirm("本当に削除して良いのですか？")){t.next=7;break}return t.next=5,e.$axios.$delete("api/calendars/"+e.id,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 5:e.index(),e.selectedOpen=!1;case 7:case"end":return t.stop()}}),t)})))()}},watch:{load_judge:function(e){var t=this;e&&setTimeout((function(){t.load_judge=!1,t.loading=!1}),500)},submitAlert:function(e){var t=this;e&&setTimeout((function(){t.submitAlert=!1}),2e3)}}}),c=(n(908),n(55)),l=n(65),d=n.n(l),m=n(667),_=n(165),v=n(678),f=n(271),x=n(51),w=n(682),h=n(668),k=n(684),y=n(679),C=n(669),V=n(162),T=n(283),A=n(666),E=n(680),$=n(73),O=n(670),S=n(119),j=n(681),F=n(74),R=n(161),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"map_calendar"},[e.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"loading_inner"},[n("p",{staticClass:"loading_inner_text"},[e._v("Loading...")]),e._v(" "),n("vue-loading",{staticClass:"loading_inner_mark",attrs:{type:"beat",color:"gold",size:{width:"60px",height:"60px"}}})],1)]):e._e(),e._v(" "),n("v-alert",{staticClass:"alert",attrs:{type:"error",transition:"slide-y-transition"},model:{value:e.submitAlert,callback:function(t){e.submitAlert=t},expression:"submitAlert"}},[e._v("\n    ログインが必要になります。\n  ")]),e._v(" "),n("v-col",{staticClass:"pt-0 pb-0 pl-0 pr-0"},[n("v-sheet",[n("div",{staticClass:"map_calendar_header"},[n("p",{staticClass:"map_calendar_header_title"},[e._v("1日の予定")]),e._v(" "),n("div",{staticClass:"map_calendar_create"},[n("v-dialog",{attrs:{persistent:"","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("button",e._g(e._b({staticClass:"button",attrs:{dark:""}},"button",o,!1),r),[n("v-icon",{staticClass:"map_calendar_create_btn_icon"},[e._v("mdi-calendar-plus")]),e._v("\n                新規登録\n              ")],1)]}}]),model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n                新規登録\n              ")]),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"予定",required:""},model:{value:e.new_name,callback:function(t){e.new_name=t},expression:"new_name"}})],1),e._v(" "),n("p",{staticClass:"map_calendar_create_title"},[e._v("日付")]),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"日付","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.new_day,callback:function(t){e.new_day=t},expression:"new_day"}},"v-text-field",o,!1),r))]}}]),model:{value:e.new_menu,callback:function(t){e.new_menu=t},expression:"new_menu"}},[e._v(" "),n("v-date-picker",{on:{input:function(t){e.new_menu=!1}},model:{value:e.new_day,callback:function(t){e.new_day=t},expression:"new_day"}})],1)],1),e._v(" "),n("p",{staticClass:"map_calendar_create_title"},[e._v("時間")]),e._v(" "),n("v-col",{attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"new_menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.new_start_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.new_start_time=t},"update:return-value":function(t){e.new_start_time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"開始時間","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.new_start_time,callback:function(t){e.new_start_time=t},expression:"new_start_time"}},"v-text-field",o,!1),r))]}}]),model:{value:e.new_menu2,callback:function(t){e.new_menu2=t},expression:"new_menu2"}},[e._v(" "),e.new_menu2?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.new_menu2.save(e.new_start_time)}},model:{value:e.new_start_time,callback:function(t){e.new_start_time=t},expression:"new_start_time"}}):e._e()],1)],1),e._v(" "),n("v-col",{attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"new_menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.new_end_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.new_end_time=t},"update:return-value":function(t){e.new_end_time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"終了時間","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.new_end_time,callback:function(t){e.new_end_time=t},expression:"new_end_time"}},"v-text-field",o,!1),r))]}}]),model:{value:e.new_menu3,callback:function(t){e.new_menu3=t},expression:"new_menu3"}},[e._v(" "),e.new_menu3?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.new_menu3.save(e.new_end_time)}},model:{value:e.new_end_time,callback:function(t){e.new_end_time=t},expression:"new_end_time"}}):e._e()],1)],1),e._v(" "),n("v-row",{staticClass:"map_calendar_create_checkbox mb-5 ml-3"},[n("v-checkbox",{model:{value:e.new_done,callback:function(t){e.new_done=t},expression:"new_done"}}),e._v(" "),n("p",[e._v("完了")])],1),e._v(" "),n("v-select",{attrs:{"item-text":"value","item-value":"value",items:e.colors,label:"背景色"},model:{value:e.new_color,callback:function(t){e.new_color=t},expression:"new_color"}}),e._v(" "),n("span",{style:"background-color: "+e.new_color+"; width: 10px; height: 10px; border-radius: 100%;"})],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.submitForm=!1}}},[e._v("\n                  閉じる\n                ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v("\n                  更新\n                ")])],1)],1)],1)],1)]),e._v(" "),n("v-calendar",{ref:"calendar",attrs:{now:e.today,value:e.today,events:e.events,color:"primary",type:"day"},on:{"click:event":e.showEvent}}),e._v(" "),n("v-col",{staticClass:"pt-0 pr-0 pb-0 pl-0",attrs:{cols:"12"}},[n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-icon",{staticClass:"mr-3"},[e._v("mdi-pencil")]),e._v(" "),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:1==e.done,expression:"done == true"}]},[e._v("mdi-check-circle")]),e._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.done,expression:"done == false"}]},[e._v("mdi-check-circle-outline")])],1),e._v(" "),n("v-card-text",[n("v-row",{staticClass:"mt-1 mr-1 mb-1 ml-1"},[n("p",{staticClass:"mb-0"},[e._v("編集")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-icon",{attrs:{color:"info"},on:{click:e.deleteCalendar}},[e._v("mdi-delete")])],1),e._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{staticClass:"mt-1 mb-1",attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"予定",required:"","hide-details":"auto"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("v-col",{staticClass:"mt-1 mb-1",attrs:{cols:"12"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"日付","prepend-inner-icon":"mdi-calendar",readonly:"","hide-details":"auto"},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-date-picker",{on:{input:function(t){e.menu=!1}},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}})],1)],1),e._v(" "),n("v-col",{staticClass:"mt-1 mb-1",attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.start_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.start_time=t},"update:return-value":function(t){e.start_time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"開始時間","prepend-inner-icon":"mdi-clock-time-four-outline",readonly:"","hide-details":"auto"},model:{value:e.start_time,callback:function(t){e.start_time=t},expression:"start_time"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),e.menu2?n("v-time-picker",{attrs:{"full-width":"","hide-details":"auto"},on:{"click:minute":function(t){return e.$refs.menu2.save(e.start_time)}},model:{value:e.start_time,callback:function(t){e.start_time=t},expression:"start_time"}}):e._e()],1)],1),e._v(" "),n("v-col",{staticClass:"mt-1 mb-1",attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.end_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.end_time=t},"update:return-value":function(t){e.end_time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"終了時間","prepend-inner-icon":"mdi-clock-time-four-outline",readonly:"","hide-details":"auto"},model:{value:e.end_time,callback:function(t){e.end_time=t},expression:"end_time"}},"v-text-field",o,!1),r))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[e._v(" "),e.menu3?n("v-time-picker",{attrs:{"full-width":"","hide-details":"auto"},on:{"click:minute":function(t){return e.$refs.menu3.save(e.end_time)}},model:{value:e.end_time,callback:function(t){e.end_time=t},expression:"end_time"}}):e._e()],1)],1),e._v(" "),n("v-row",{staticClass:"map_calendar_edit_checkbox mt-1 mb-3 ml-1"},[n("v-checkbox",{staticClass:"mt-0",attrs:{"hide-details":"auto"},model:{value:e.done,callback:function(t){e.done=t},expression:"done"}}),e._v(" "),n("p",{staticClass:"mt-1"},[e._v("完了")])],1),e._v(" "),n("span",{style:"background-color: "+e.color+"; width: 10px; height: 10px; border-radius: 100%;"}),e._v(" "),n("v-select",{attrs:{"item-text":"value","item-value":"value",items:e.colors,label:"背景色","hide-details":"auto"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1)],1),e._v(" "),n("v-card-actions",{staticClass:"pb-0"},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("\n                  閉じる\n                ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.edit}},[e._v("\n                  更新\n                ")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VAlert:m.a,VBtn:_.a,VCalendar:v.a,VCard:f.a,VCardActions:x.a,VCardText:x.b,VCardTitle:x.c,VCheckbox:w.a,VCol:h.a,VContainer:k.a,VDatePicker:y.a,VDialog:C.a,VIcon:V.a,VMenu:T.a,VRow:A.a,VSelect:E.a,VSheet:$.a,VSpacer:O.a,VTextField:S.a,VTimePicker:j.a,VToolbar:F.a,VToolbarTitle:R.a})}}]);