(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{695:function(t,e,n){var content=n(696);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("7f6d4ad6",content,!0,{sourceMap:!1})},696:function(t,e,n){var o=n(10)(!1);o.push([t.i,"@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.loading{position:absolute;top:0;bottom:0;right:0;left:0;background:hsla(0,0%,100%,.199);z-index:100}.loading_inner{position:absolute;bottom:50%;right:50%;transform:translate(50%,50%)}.loading_inner_text{margin:0;-webkit-animation:fadeIn 2s infinite alternate;animation:fadeIn 2s infinite alternate}.alert{position:fixed!important;top:70px;left:2.5%;z-index:30;width:95%}.theme--light.v-pagination .v-pagination__item{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-pagination .v-pagination__item--active{color:#fff}.theme--light.v-pagination .v-pagination__navigation{background:#fff}.theme--dark.v-pagination .v-pagination__item{background:#1e1e1e;color:#fff}.theme--dark.v-pagination .v-pagination__item--active{color:#fff}.theme--dark.v-pagination .v-pagination__navigation{background:#1e1e1e}.v-pagination{align-items:center;display:inline-flex;list-style-type:none;justify-content:center;margin:0;max-width:100%;width:100%}.v-pagination.v-pagination{padding-left:0}.v-pagination>li{align-items:center;display:flex}.v-pagination--circle .v-pagination__item,.v-pagination--circle .v-pagination__more,.v-pagination--circle .v-pagination__navigation{border-radius:50%}.v-pagination--disabled{pointer-events:none;opacity:.6}.v-pagination__item{background:transparent;border-radius:4px;font-size:1rem;height:34px;margin:.3rem;min-width:34px;padding:0 5px;text-decoration:none;transition:.3s cubic-bezier(0,0,.2,1);width:auto;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-pagination__item--active{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-pagination__navigation{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;text-decoration:none;height:32px;width:32px;margin:.3rem 10px}.v-pagination__navigation .v-icon{transition:.2s cubic-bezier(.4,0,.6,1);vertical-align:middle}.v-pagination__navigation--disabled{opacity:.6;pointer-events:none}.v-pagination__more{margin:.3rem;display:inline-flex;align-items:flex-end;justify-content:center;height:32px;width:32px}",""]),t.exports=o},708:function(t,e,n){"use strict";n(14),n(36),n(35),n(16),n(76),n(19),n(695);var o=n(25),r=n(89),l=n(13),c=n(291),d=n(8),h=n(6);e.a=Object(h.a)(l.a,Object(c.a)({onVisible:["init"]}),d.a).extend({name:"v-pagination",directives:{Resize:r.a},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1==0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object.assign({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var n=e%2==0?1:0,o=Math.floor(e/2),r=this.length-o+1+n;if(this.value>o&&this.value<r){var l=this.value-o+2,c=this.value+o-2-n;return[1,"..."].concat(this.range(l,c),["...",this.length])}if(this.value===o){var d=this.value+o-1-n;return[].concat(this.range(1,d),["...",this.length])}if(this.value===r){var h=this.value-o+1;return[1,"..."].concat(this.range(h,this.length))}return[].concat(this.range(1,o),["..."],this.range(r,this.length))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){for(var n=[],i=t=t>0?t:1;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,r,label){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":label},on:n?{}:{click:r}},[t(o.a,[e])])])},genItem:function(t,i){var e=this,n=i===this.value&&(this.color||"primary"),o=i===this.value,r=o?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":i===this.value},attrs:{type:"button","aria-current":o,"aria-label":this.$vuetify.lang.t(r,i)},on:{click:function(){return e.$emit("input",i)}}}),[i.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,n){return t("li",{key:n},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},856:function(t,e,n){var content=n(885);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("61036703",content,!0,{sourceMap:!1})},884:function(t,e,n){"use strict";n(856)},885:function(t,e,n){var o=n(10)(!1);o.push([t.i,".room_header_inner[data-v-9776e624]{width:90%;margin:25px auto 0}.room_select[data-v-9776e624]{display:flex;width:95%;margin:0 auto}.room_select_col[data-v-9776e624],.room_select_col_select[data-v-9776e624]{width:120px}.room_content[data-v-9776e624]{list-style:none}.room_content_btn[data-v-9776e624]{font-weight:700}.room_content_btn_icon[data-v-9776e624]{font-size:18px;margin-right:2px}.room_content_id[data-v-9776e624],.room_content_title[data-v-9776e624]{display:inline-block}.room_content_header[data-v-9776e624]{display:flex;align-items:center}.subTitleForm[data-v-9776e624]{border:none;outline:none;font-size:28px;width:100%;font-weight:700}",""]),t.exports=o},936:function(t,e,n){"use strict";n.r(e);var o=n(18),r=(n(35),n(102),{components:{VueLoading:n(103).VueLoading},data:function(){return{select:"全て",items:["全て","完了","未完了"],rooms:[],search_title:"",currentPage:1,totalPage:1,page:1,judgePage:"index",updateAlert:!1,deleteAlert:!1,loading:!0,load_judge:!1}},created:function(){var t=this;localStorage.getItem("id")?this.loginJudge=!0:(this.loginJudge=!1,this.$router.push("/")),this.rooms=[],this.$axios.$get("api/rooms",{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(e){for(var i=0;i<e.data.length;i++){var n=new Date(e.data[i].attributes.deadline),o=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes();t.rooms.push({id:e.data[i].attributes.id,title:e.data[i].attributes.title,deadline:o,done:e.data[i].attributes.done}),t.currentPage=e.pagination.current_page,t.totalPage=e.pagination.total_pages}t.loading=!1})).catch(this.load_judge=!0)},methods:{update:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,o={title:t.title},n.next=4,e.$axios.$patch("api/rooms/"+t.id,o,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then(e.updateAlert=!0,e.loading=!1);case 4:case"end":return n.stop()}}),n)})))()},destroy:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.loading=!0,!window.confirm("本当に削除して良いのですか？")){n.next=8;break}return n.next=5,e.$axios.$delete("api/rooms/"+t,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then(e.deleteAlert=!0);case 5:e.onSearch(e.page),n.next=9;break;case 8:e.loading=!1;case 9:case"end":return n.stop()}}),n)})))()},onSearch:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.loading=!0,!localStorage.getItem("id")){n.next=12;break}if(e.page=t,!e.search_title){n.next=8;break}return n.next=6,e.$axios.$get("api/rooms/search/"+e.search_title+"?page="+e.page,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.rooms=[];for(var i=0;i<t.data.length;i++){var n=new Date(t.data[i].attributes.deadline),o=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes();e.rooms.push({id:t.data[i].attributes.id,title:t.data[i].attributes.title,deadline:o,done:t.data[i].attributes.done}),e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages}e.loading=!1}));case 6:n.next=10;break;case 8:return n.next=10,e.$axios.$get("api/rooms?page="+e.page,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){e.rooms=[];for(var i=0;i<t.data.length;i++){var n=new Date(t.data[i].attributes.deadline),o=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes();e.rooms.push({id:t.data[i].attributes.id,title:t.data[i].attributes.title,deadline:o,done:t.data[i].attributes.done}),e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages}e.loading=!1}));case 10:n.next=13;break;case 12:e.load_judge=!0;case 13:case"end":return n.stop()}}),n)})))()},roomDone:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.rooms=[],e.loading=!0,e.page=t,!localStorage.getItem("id")){n.next=8;break}return n.next=6,e.$axios.$get("api/rooms/room_done?page="+e.page,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){for(var i=0;i<t.data.length;i++){var n=new Date(t.data[i].attributes.deadline),o=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes();e.rooms.push({id:t.data[i].attributes.id,title:t.data[i].attributes.title,deadline:o,done:t.data[i].attributes.done}),e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages}e.loading=!1,e.judgePage="done"}));case 6:n.next=9;break;case 8:e.load_judge=!0;case 9:case"end":return n.stop()}}),n)})))()},roomNotYet:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.rooms=[],e.loading=!0,e.page=t,!localStorage.getItem("id")){n.next=8;break}return n.next=6,e.$axios.$get("api/rooms/room_not_yet?page="+e.page,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(t){for(var i=0;i<t.data.length;i++){var n=new Date(t.data[i].attributes.deadline),o=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes();e.rooms.push({id:t.data[i].attributes.id,title:t.data[i].attributes.title,deadline:o,done:t.data[i].attributes.done}),e.currentPage=t.pagination.current_page,e.totalPage=t.pagination.total_pages}e.loading=!1,e.judgePage="notYet"}));case 6:n.next=9;break;case 8:e.load_judge=!0;case 9:case"end":return n.stop()}}),n)})))()},selectPage:function(){"完了"==this.select?localStorage.getItem("id")&&this.roomDone(1):"未完了"==this.select?localStorage.getItem("id")&&this.roomNotYet(1):localStorage.getItem("id")&&this.onSearch(1)}},watch:{updateAlert:function(t){var e=this;t&&setTimeout((function(){e.updateAlert=!1}),2e3)},deleteAlert:function(t){var e=this;t&&setTimeout((function(){e.deleteAlert=!1}),2e3)},load_judge:function(t){var e=this;t&&setTimeout((function(){e.load_judge=!1,e.loading=!1}),500)}}}),l=(n(884),n(55)),c=n(65),d=n.n(c),h=n(667),v=n(165),m=n(271),f=n(51),_=n(668),x=n(162),k=n(708),y=n(680),w=n(670),$=n(119),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pb-10"},[t.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"loading_inner"},[n("p",{staticClass:"loading_inner_text"},[t._v("Loading...")]),t._v(" "),n("vue-loading",{staticClass:"loading_inner_mark",attrs:{type:"beat",color:"gold",size:{width:"60px",height:"60px"}}})],1)]):t._e(),t._v(" "),n("v-alert",{staticClass:"alert",attrs:{type:"success",transition:"slide-y-transition"},model:{value:t.updateAlert,callback:function(e){t.updateAlert=e},expression:"updateAlert"}},[t._v("\n    更新されました。\n  ")]),t._v(" "),n("v-alert",{staticClass:"alert",attrs:{color:"error",type:"success",transition:"slide-y-transition"},model:{value:t.deleteAlert,callback:function(e){t.deleteAlert=e},expression:"deleteAlert"}},[t._v("\n    削除されました。\n  ")]),t._v(" "),n("div",{staticClass:"room_header"},[n("div",{staticClass:"room_header_inner"},[n("v-text-field",{attrs:{placeholder:"Room 検索",required:"","prepend-inner-icon":"mdi-magnify",filled:"",rounded:"",dense:"","hide-details":"auto"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch(1)}},model:{value:t.search_title,callback:function(e){t.search_title=e},expression:"search_title"}})],1)]),t._v(" "),n("div",{staticClass:"room_select mt-2"},[n("v-col",{staticClass:"room_select_col pb-0 pt-0 pl-0 pr-0"},[n("v-select",{staticClass:"room_select_col_select",attrs:{items:t.items,solo:"",flat:"","single-line":"","return-object":"","hide-details":"auto","background-color":"transparent"},on:{change:t.selectPage},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),n("v-spacer"),t._v(" "),t.loginJudge?n("v-icon",{attrs:{large:""},on:{click:function(e){return t.$router.push("/rooms/create")}}},[t._v("mdi-pencil-box-outline")]):t._e()],1),t._v(" "),t._l(t.rooms,(function(e,i){return n("div",{key:"room-"+i,staticClass:"room_content"},[n("v-card",{staticClass:"mx-auto mb-3",attrs:{width:"95%"}},[n("v-card-text",{staticClass:"pb-0"},[n("div",{staticClass:"room_content_header"},[1==e.done?n("v-icon",{staticClass:"mr-2",attrs:{color:"info"}},[t._v("mdi-checkbox-marked-circle")]):n("v-icon",{staticClass:"mr-2"},[t._v("mdi-checkbox-marked-circle-outline")]),t._v(" "),n("div",{staticClass:"room_id"},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-calendar-clock")]),t._v(t._s(e.deadline))],1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"room.title"}],staticClass:"subTitleForm ml-1 mt-3",domProps:{value:e.title},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.update(e)},input:function(n){n.target.composing||t.$set(e,"title",n.target.value)}}})]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"room_content_btn",attrs:{text:"",color:"info accent-4"},on:{click:function(n){t.$router.push("/rooms/"+e.id)}}},[n("v-icon",{staticStyle:{"font-size":"18px","margin-right":"2px"},attrs:{color:"info"}},[t._v("mdi-application")]),t._v("\n          ルームへ\n        ")],1),t._v(" "),n("v-btn",{staticClass:"room_content_btn ml-0",attrs:{text:"",color:"info accent-4"},on:{click:function(n){return t.destroy(e.id)}}},[n("v-icon",{staticClass:"room_content_btn_icon",attrs:{color:"info"}},[t._v("mdi-delete-empty")]),t._v("\n            削除\n        ")],1)],1)],1)],1)})),t._v(" "),n("div",{staticClass:"text-center mt-11"},["index"==t.judgePage?n("v-pagination",{attrs:{length:this.totalPage,"total-visible":7},on:{input:function(e){return t.onSearch(t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),t._v(" "),"done"==t.judgePage?n("v-pagination",{attrs:{length:this.totalPage,"total-visible":7},on:{input:function(e){return t.roomDone(t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),t._v(" "),"notYet"==t.judgePage?n("v-pagination",{attrs:{length:this.totalPage,"total-visible":7},on:{input:function(e){return t.roomNotYet(t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)],2)}),[],!1,null,"9776e624",null);e.default=component.exports;d()(component,{VAlert:h.a,VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VCol:_.a,VIcon:x.a,VPagination:k.a,VSelect:y.a,VSpacer:w.a,VTextField:$.a})}}]);