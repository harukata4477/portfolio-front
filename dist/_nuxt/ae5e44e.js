(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{854:function(t,e,n){var content=n(879);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("32e83ff1",content,!0,{sourceMap:!1})},877:function(t,e,n){var map={"./af":719,"./af.js":719,"./ar":720,"./ar-dz":721,"./ar-dz.js":721,"./ar-kw":722,"./ar-kw.js":722,"./ar-ly":723,"./ar-ly.js":723,"./ar-ma":724,"./ar-ma.js":724,"./ar-sa":725,"./ar-sa.js":725,"./ar-tn":726,"./ar-tn.js":726,"./ar.js":720,"./az":727,"./az.js":727,"./be":728,"./be.js":728,"./bg":729,"./bg.js":729,"./bm":730,"./bm.js":730,"./bn":731,"./bn-bd":732,"./bn-bd.js":732,"./bn.js":731,"./bo":733,"./bo.js":733,"./br":734,"./br.js":734,"./bs":735,"./bs.js":735,"./ca":736,"./ca.js":736,"./cs":737,"./cs.js":737,"./cv":738,"./cv.js":738,"./cy":739,"./cy.js":739,"./da":740,"./da.js":740,"./de":741,"./de-at":742,"./de-at.js":742,"./de-ch":743,"./de-ch.js":743,"./de.js":741,"./dv":744,"./dv.js":744,"./el":745,"./el.js":745,"./en-au":746,"./en-au.js":746,"./en-ca":747,"./en-ca.js":747,"./en-gb":748,"./en-gb.js":748,"./en-ie":749,"./en-ie.js":749,"./en-il":750,"./en-il.js":750,"./en-in":751,"./en-in.js":751,"./en-nz":752,"./en-nz.js":752,"./en-sg":753,"./en-sg.js":753,"./eo":754,"./eo.js":754,"./es":755,"./es-do":756,"./es-do.js":756,"./es-mx":757,"./es-mx.js":757,"./es-us":758,"./es-us.js":758,"./es.js":755,"./et":759,"./et.js":759,"./eu":760,"./eu.js":760,"./fa":761,"./fa.js":761,"./fi":762,"./fi.js":762,"./fil":763,"./fil.js":763,"./fo":764,"./fo.js":764,"./fr":765,"./fr-ca":766,"./fr-ca.js":766,"./fr-ch":767,"./fr-ch.js":767,"./fr.js":765,"./fy":768,"./fy.js":768,"./ga":769,"./ga.js":769,"./gd":770,"./gd.js":770,"./gl":771,"./gl.js":771,"./gom-deva":772,"./gom-deva.js":772,"./gom-latn":773,"./gom-latn.js":773,"./gu":774,"./gu.js":774,"./he":775,"./he.js":775,"./hi":776,"./hi.js":776,"./hr":777,"./hr.js":777,"./hu":778,"./hu.js":778,"./hy-am":779,"./hy-am.js":779,"./id":780,"./id.js":780,"./is":781,"./is.js":781,"./it":782,"./it-ch":783,"./it-ch.js":783,"./it.js":782,"./ja":784,"./ja.js":784,"./jv":785,"./jv.js":785,"./ka":786,"./ka.js":786,"./kk":787,"./kk.js":787,"./km":788,"./km.js":788,"./kn":789,"./kn.js":789,"./ko":790,"./ko.js":790,"./ku":791,"./ku.js":791,"./ky":792,"./ky.js":792,"./lb":793,"./lb.js":793,"./lo":794,"./lo.js":794,"./lt":795,"./lt.js":795,"./lv":796,"./lv.js":796,"./me":797,"./me.js":797,"./mi":798,"./mi.js":798,"./mk":799,"./mk.js":799,"./ml":800,"./ml.js":800,"./mn":801,"./mn.js":801,"./mr":802,"./mr.js":802,"./ms":803,"./ms-my":804,"./ms-my.js":804,"./ms.js":803,"./mt":805,"./mt.js":805,"./my":806,"./my.js":806,"./nb":807,"./nb.js":807,"./ne":808,"./ne.js":808,"./nl":809,"./nl-be":810,"./nl-be.js":810,"./nl.js":809,"./nn":811,"./nn.js":811,"./oc-lnc":812,"./oc-lnc.js":812,"./pa-in":813,"./pa-in.js":813,"./pl":814,"./pl.js":814,"./pt":815,"./pt-br":816,"./pt-br.js":816,"./pt.js":815,"./ro":817,"./ro.js":817,"./ru":818,"./ru.js":818,"./sd":819,"./sd.js":819,"./se":820,"./se.js":820,"./si":821,"./si.js":821,"./sk":822,"./sk.js":822,"./sl":823,"./sl.js":823,"./sq":824,"./sq.js":824,"./sr":825,"./sr-cyrl":826,"./sr-cyrl.js":826,"./sr.js":825,"./ss":827,"./ss.js":827,"./sv":828,"./sv.js":828,"./sw":829,"./sw.js":829,"./ta":830,"./ta.js":830,"./te":831,"./te.js":831,"./tet":832,"./tet.js":832,"./tg":833,"./tg.js":833,"./th":834,"./th.js":834,"./tk":835,"./tk.js":835,"./tl-ph":836,"./tl-ph.js":836,"./tlh":837,"./tlh.js":837,"./tr":838,"./tr.js":838,"./tzl":839,"./tzl.js":839,"./tzm":840,"./tzm-latn":841,"./tzm-latn.js":841,"./tzm.js":840,"./ug-cn":842,"./ug-cn.js":842,"./uk":843,"./uk.js":843,"./ur":844,"./ur.js":844,"./uz":845,"./uz-latn":846,"./uz-latn.js":846,"./uz.js":845,"./vi":847,"./vi.js":847,"./x-pseudo":848,"./x-pseudo.js":848,"./yo":849,"./yo.js":849,"./zh-cn":850,"./zh-cn.js":850,"./zh-hk":851,"./zh-hk.js":851,"./zh-mo":852,"./zh-mo.js":852,"./zh-tw":853,"./zh-tw.js":853};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=877},878:function(t,e,n){"use strict";n(854)},879:function(t,e,n){var r=n(10)(!1);r.push([t.i,".content[data-v-0ad8b927]{margin:0 auto;max-width:900px;padding:0 1px}.content_inner[data-v-0ad8b927]{font-size:.8em;padding-top:10px}.content_inner_title[data-v-0ad8b927]{display:flex;justify-content:space-between;align-items:center;margin:15px 0 10px}.content_inner_title h2[data-v-0ad8b927]{display:inline-block;margin:0;font-weight:700}.button-area[data-v-0ad8b927]{margin:5px 0;display:flex;justify-content:space-between}.button[data-v-0ad8b927]{padding:4px 8px;margin-right:8px;border:1px solid #eee;border-radius:10px;box-shadow:.3px .3px .3px .3px #eee}.button[data-v-0ad8b927]:hover{box-shadow:unset}.content_create_form[data-v-0ad8b927]{display:inline-block}.content_create_form_icon[data-v-0ad8b927]{font-size:15px}.content_create_form_title[data-v-0ad8b927]{width:100%;margin-bottom:-20px}.content_create_form_checkbox[data-v-0ad8b927]{align-items:center;width:100%;color:rgba(0,0,0,.6)}.content_create_form_checkbox input[data-v-0ad8b927]{display:flex;align-items:center;margin-left:20px}.content_create_form_checkbox p[data-v-0ad8b927]{margin-bottom:0;display:flex;align-items:center}.calendar[data-v-0ad8b927]{max-width:900px;border-top:1px solid #e0e0e0;font-size:.8em}.calendar-weekly[data-v-0ad8b927]{display:flex;border-left:1px solid #e0e0e0}.calendar-daily[data-v-0ad8b927]{flex:1;height:calc(20vh - 48px);overflow-y:scroll;overflow-x:hidden;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;margin-right:-1px}.calendar-day[data-v-0ad8b927],.calendar-youbi[data-v-0ad8b927]{text-align:center}.calendar-youbi[data-v-0ad8b927]{flex:1;border-right:1px solid #e0e0e0;margin-right:-1px}.outside[data-v-0ad8b927]{background-color:#f7f7f7}.calendar-event[data-v-0ad8b927]{color:#fff;margin-bottom:1px;height:25px;line-height:25px;border-radius:5px}@media (min-width:960px){.calendar-daily[data-v-0ad8b927]{height:calc(20vh - 40px)}}",""]),t.exports=r},932:function(t,e,n){"use strict";n.r(e);var r=n(18),o=(n(102),n(17),n(77),n(27),n(37),n(35),n(103)),c=n(685),l=n.n(c),d={components:{VueLoading:o.VueLoading},data:function(){return{name:"",done:!1,start:"",end:"",id:0,color:"",colors:[{value:"orange"},{value:"green"},{value:"blue"},{value:"grey"}],day:"",start_time:"",end_time:"",today:"",currentDate:l()(),events:[],menu:!1,menu2:!1,menu3:!1,submitForm:!1,loading:!0,load_judge:!1,submitAlert:!1}},created:function(){localStorage.getItem("id")||this.$router.push("/");var t=new Date,e=t.getFullYear(),n=t.getMonth()+1;this.today=e+"-"+n+"-1",this.index()},methods:{index:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.$axios.$get("api/calendars/show_month/"+t.today+"/",{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(e){for(var i=0;i<e.data.length;i++){var n=e.data[i].attributes.start,r=e.data[i].attributes.end,o=e.data[i].attributes.start_time,c=e.data[i].attributes.end_time;n=n.replace(/-/g,"/").replace(/T/g," ").replace(/.000Z/g,""),r=r.replace(/-/g,"/").replace(/T/g," ").replace(/.000Z/g,""),1==e.data[i].attributes.done?t.events.push({id:e.data[i].attributes.id,name:e.data[i].attributes.name,color:"black",user_id:e.data[i].attributes.user_id,start:n,end:r,start_time:o,end_time:c,done:e.data[i].attributes.done}):t.events.push({id:e.data[i].attributes.id,name:e.data[i].attributes.name,color:e.data[i].attributes.color,user_id:e.data[i].attributes.user_id,start:n,end:r,start_time:o,end_time:c,done:e.data[i].attributes.done})}t.name="",t.day="",t.start_time="",t.end_time="",t.done="",t.color="",t.loading=!1})).catch(t.submitForm=!1,t.load_judge=!0);case 2:case"end":return e.stop()}}),e)})))()},current:function(t){this.$router.push("/calendars/"+t)},create:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("X-Access-Token")){e.next=8;break}return t.loading=!0,n={name:t.name,start:t.day+" "+t.start_time,end:t.day+" "+t.end_time,done:t.done,color:t.color},e.next=5,t.$axios.$post("api/calendars/",n,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then(t.events=[]);case 5:t.index(),e.next=10;break;case 8:t.submitForm=!1,t.submitAlert=!0;case 10:case"end":return e.stop()}}),e)})))()},getStartDate:function(){var t=l()(this.currentDate);t.startOf("month");var e=t.day();return t.subtract(e,"days")},getEndDate:function(){var t=l()(this.currentDate);t.endOf("month");var e=t.day();return t.add(6-e,"days")},getCalendar:function(){for(var t=this.getStartDate(),e=this.getEndDate(),n=Math.ceil(e.diff(t,"days")/7),r=[],o=this.getStartDate(),c=0;c<n;c++){for(var l=[],d=0;d<7;d++){var m=this.getDayEvents(o);l.push({day:o.get("date"),month:o.format("YYYY-MM"),dayEvents:m}),o.add(1,"days")}r.push(l)}return r},nextMonth:function(){this.loading=!0,this.currentDate=l()(this.currentDate).add(1,"month");var t=new Date(this.currentDate),e=t.getFullYear(),n=t.getMonth()+1;this.today=e+"-"+n+"-1",this.events=[],this.index()},prevMonth:function(t){this.loading=!0,this.currentDate=l()(this.currentDate).subtract(1,"month");var e=new Date(this.currentDate),n=e.getFullYear();t=e.getMonth()+1;this.today=n+"-"+t+"-1",this.events=[],this.index()},youbi:function(t){return["日","月","火","水","木","金","土"][t]},getDayEvents:function(t){return this.events.filter((function(e){var n=l()(e.start).format("YYYY-MM-DD"),r=l()(e.end).format("YYYY-MM-DD"),o=t.format("YYYY-MM-DD");if(n<=o&&r>=o)return!0}))}},computed:{calendars:function(){return this.getCalendar()},displayDate:function(){return this.currentDate.format("YYYY[年]M[月]")},currentMonth:function(){return this.currentDate.format("YYYY-MM")}},watch:{load_judge:function(t){var e=this;t&&setTimeout((function(){e.load_judge=!1,e.loading=!1}),500)},submitAlert:function(t){var e=this;t&&setTimeout((function(){e.submitAlert=!1}),2e3)}}},m=(n(878),n(55)),v=n(65),f=n.n(v),h=n(667),_=n(165),j=n(271),x=n(51),k=n(682),y=n(668),w=n(684),C=n(679),D=n(669),z=n(162),M=n(283),Y=n(666),V=n(680),A=n(670),T=n(119),S=n(681),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"loading_inner"},[n("p",{staticClass:"loading_inner_text"},[t._v("Loading...")]),t._v(" "),n("vue-loading",{staticClass:"loading_inner_mark",attrs:{type:"beat",color:"gold",size:{width:"60px",height:"60px"}}})],1)]):t._e(),t._v(" "),n("v-alert",{staticClass:"alert",attrs:{type:"error",transition:"slide-y-transition"},model:{value:t.submitAlert,callback:function(e){t.submitAlert=e},expression:"submitAlert"}},[t._v("\n     ログインが必要になります。\n   ")]),t._v(" "),n("div",{staticClass:"content_inner"},[n("div",{staticClass:"content_inner_title"},[n("h2",[t._v("カレンダー"+t._s(t.displayDate))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{staticClass:"mb-1",attrs:{color:"gray"},on:{click:function(e){return t.$router.push("/help/")}}},[t._v("mdi-help-circle")])],1),t._v(" "),n("div",{staticClass:"button-area"},[n("div",[n("button",{staticClass:"button",on:{click:function(e){return t.prevMonth(t.currentMonth)}}},[t._v("前の月")]),t._v(" "),n("button",{staticClass:"button",on:{click:function(e){return t.nextMonth(t.currentMonth)}}},[t._v("次の月")])]),t._v(" "),n("div",{staticClass:"content_create_form"},[n("v-dialog",{attrs:{persistent:"","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("button",t._g(t._b({staticClass:"button",attrs:{dark:""}},"button",o,!1),r),[n("v-icon",{staticClass:"content_create_form_icon"},[t._v("mdi-calendar-plus")]),t._v("\n             新規登録\n           ")],1)]}}]),model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n             新規登録\n           ")]),t._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"予定",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("p",{staticClass:"content_create_form_title"},[t._v("日付")]),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"日付","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)],1),t._v(" "),n("p",{staticClass:"content_create_form_title"},[t._v("時間")]),t._v(" "),n("v-col",{attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.start_time=e},"update:return-value":function(e){t.start_time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"開始時間","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),t.menu2?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(e){return t.$refs.menu2.save(t.start_time)}},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}}):t._e()],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6",sm:"5"}},[n("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.end_time=e},"update:return-value":function(e){t.end_time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"終了時間","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[t._v(" "),t.menu3?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(e){return t.$refs.menu3.save(t.end_time)}},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}}):t._e()],1)],1),t._v(" "),n("v-row",{staticClass:"content_create_form_checkbox mb-5 ml-3"},[n("v-checkbox",{model:{value:t.done,callback:function(e){t.done=e},expression:"done"}}),t._v(" "),n("p",[t._v("完了")])],1),t._v(" "),n("v-select",{attrs:{"item-text":"value","item-value":"value",items:t.colors,label:"背景色"},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),n("span",{style:"background-color: "+t.color+"; width: 10px; height: 10px; border-radius: 100%;"})],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.submitForm=!1}}},[t._v("\n               閉じる\n             ")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.create}},[t._v("\n               更新\n             ")])],1)],1)],1)],1)]),t._v(" "),n("div",{staticClass:"calendar"},[n("div",{staticClass:"calendar-weekly"},t._l(7,(function(e){return n("div",{key:e,staticClass:"calendar-youbi"},[t._v("\n           "+t._s(t.youbi(e-1))+"\n         ")])})),0),t._v(" "),t._l(t.calendars,(function(e,r){return n("div",{key:r,staticClass:"calendar-weekly"},t._l(e,(function(e,r){return n("div",{key:r,staticClass:"calendar-daily",class:{outside:t.currentMonth!==e.month},on:{click:function(n){return t.current(e.month+"-"+e.day)}}},[n("div",{staticClass:"calendar-day"},[t._v("\n             "+t._s(e.day)+"\n           ")]),t._v(" "),t._l(e.dayEvents,(function(e){return n("div",{key:e.id},[n("div",{staticClass:"calendar-event",style:"background-color:"+e.color+"; font-weight: bold; overflow: scroll;",on:{click:t.current}},[t._v("\n               "+t._s(e.name)+"\n             ")])])}))],2)})),0)}))],2)])],1)}),[],!1,null,"0ad8b927",null);e.default=component.exports;f()(component,{VAlert:h.a,VBtn:_.a,VCard:j.a,VCardActions:x.a,VCardText:x.b,VCardTitle:x.c,VCheckbox:k.a,VCol:y.a,VContainer:w.a,VDatePicker:C.a,VDialog:D.a,VIcon:z.a,VMenu:M.a,VRow:Y.a,VSelect:V.a,VSpacer:A.a,VTextField:T.a,VTimePicker:S.a})}}]);