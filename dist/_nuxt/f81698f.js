(window.webpackJsonp=window.webpackJsonp||[]).push([[26,5],{689:function(t,e,n){"use strict";n.r(e);var o=n(18),r=(n(102),n(694)),d=r.GraphObject.make,c={components:{},props:{params:{type:String,default:""}},computed:{setParams:{get:function(){return this.params},set:function(t){return this.$emit("update:params",t)}}},data:function(){return{nodes:[]}},mounted:function(){var t=this,e=d(r.Diagram,"myDiagramDiv",{initialAutoScale:r.Diagram.Uniform,"commandHandler.copiesTree":!0,"commandHandler.copiesParentKey":!0,"commandHandler.deletesTree":!0,"draggingTool.dragsTree":!0,"undoManager.isEnabled":!0});this.diagram=e;var n=d(r.TreeModel);function o(t,e){return"left"===t?e?r.Spot.Left:r.Spot.Right:e?r.Spot.Right:r.Spot.Left}function c(t,n){e.model.setDataProperty(t.data,"dir",n);for(var o=t.findTreeChildrenNodes();o.next();)c(o.value,n)}function l(t){0===t.data.key?function(){var t=e.findNodeForKey(0);if(null===t)return;e.startTransaction("Layout");var n=new r.Set,o=new r.Set;t.findLinksConnected().each((function(link){var e=link.toNode;"left"===e.data.dir?(o.add(t),o.add(link),o.addAll(e.findTreeParts())):(n.add(t),n.add(link),n.addAll(e.findTreeParts()))})),m(n,0),m(o,180),e.commitTransaction("Layout")}():m(t.findTreeParts(),"left"===t.data.dir?180:0)}function m(t,e){r.GraphObject.make(r.TreeLayout,{angle:e,arrangement:r.TreeLayout.ArrangementFixedRoots,nodeSpacing:5,layerSpacing:20,setsPortSpot:!1,setsChildPortSpot:!1}).doLayout(t)}n.nodeDataArray=this.nodes,e.model=n,e.addDiagramListener("Modified",(function(t){var button=document.getElementById("SaveButton");button&&(button.disabled=!e.isModified);var n=document.title.indexOf("*");e.isModified?n<0&&(document.title+="*"):n>=0&&(document.title=document.title.substr(0,n))})),e.nodeTemplate=d(r.Node,"Vertical",{selectionObjectName:"TEXT"},new r.Binding("location","loc",r.Point.parse).makeTwoWay(r.Point.stringify),new r.Binding("locationSpot","dir",(function(t){return o(t,!1)})),d(r.TextBlock,{name:"TEXT",minSize:new r.Size(30,15),editable:!0},new r.Binding("text","text").makeTwoWay(),new r.Binding("scale","scale").makeTwoWay(),new r.Binding("font","font").makeTwoWay()),d(r.Shape,"LineH",{stretch:r.GraphObject.Horizontal,strokeWidth:3,height:3,portId:"",fromSpot:r.Spot.LeftRightSides,toSpot:r.Spot.LeftRightSides},new r.Binding("stroke","brush"),new r.Binding("fromSpot","dir",(function(t){return o(t,!0)})),new r.Binding("toSpot","dir",(function(t){return o(t,!1)}))),new r.Binding("location","loc",r.Point.parse).makeTwoWay(r.Point.stringify),new r.Binding("locationSpot","dir",(function(t){return o(t,!1)}))),e.nodeTemplate.selectionAdornmentTemplate=d(r.Adornment,"Spot",d(r.Panel,"Auto",d(r.Shape,{fill:null,stroke:"dodgerblue",strokeWidth:3}),d(r.Placeholder,{margin:new r.Margin(4,4,0,4)})),d("Button",{alignment:r.Spot.Right,alignmentFocus:r.Spot.Left,click:function(t,e){var n=e.part,o=n.diagram;o.startTransaction("Add Node");var r=n.adornedPart,d=r.data;if(0==d.key)var c=["palevioletred","coral","darkseagreen","skyblue"],m={text:"idea",brush:c[Math.floor(Math.random()*c.length)],dir:d.dir,parent:d.key};else m={text:"idea",brush:d.brush,dir:d.dir,parent:d.key};o.model.addNodeData(m),l(r),o.commitTransaction("Add Node");var f=o.findNodeForData(m);null!==f&&o.scrollToRect(f.actualBounds)}},d(r.TextBlock,"+",{font:"bold 8pt sans-serif"}))),e.nodeTemplate.contextMenu=d("ContextMenu",d("ContextMenuButton",d(r.TextBlock,"Bold/Normal"),{click:function(t,e){!function(t){var e=t.part;e.diagram.startTransaction("Change Text Weight");var n=e.adornedPart.findObject("TEXT"),o=n.font.indexOf("bold");n.font=o<0?"bold "+n.font:n.font.substr(o+5);e.diagram.commitTransaction("Change Text Weight")}(e)}}),d("ContextMenuButton",d(r.TextBlock,"Copy"),{click:function(t,e){t.diagram.commandHandler.copySelection()}}),d("ContextMenuButton",d(r.TextBlock,"Delete"),{click:function(t,e){t.diagram.commandHandler.deleteSelection()}}),d("ContextMenuButton",d(r.TextBlock,"Undo"),{click:function(t,e){t.diagram.commandHandler.undo()}}),d("ContextMenuButton",d(r.TextBlock,"Redo"),{click:function(t,e){t.diagram.commandHandler.redo()}}),d("ContextMenuButton",d(r.TextBlock,"Layout"),{click:function(t,e){var n=e.part;n.diagram.startTransaction("Subtree Layout"),l(n.adornedPart),n.diagram.commitTransaction("Subtree Layout")}})),e.linkTemplate=d(r.Link,{curve:r.Link.Bezier,fromShortLength:-2,toShortLength:-2,selectable:!1},d(r.Shape,{strokeWidth:3},new r.Binding("stroke","toNode",(function(t){return t.data.brush?t.data.brush:"black"})).ofObject())),e.contextMenu=d("ContextMenu",d("ContextMenuButton",d(r.TextBlock,"Paste"),{click:function(t,e){t.diagram.commandHandler.pasteSelection(t.diagram.toolManager.contextMenuTool.mouseDownPoint)}},new r.Binding("visible","",(function(t){return t.diagram&&t.diagram.commandHandler.canPasteSelection(t.diagram.toolManager.contextMenuTool.mouseDownPoint)})).ofObject()),d("ContextMenuButton",d(r.TextBlock,"Undo"),{click:function(t,e){t.diagram.commandHandler.undo()}},new r.Binding("visible","",(function(t){return t.diagram&&t.diagram.commandHandler.canUndo()})).ofObject()),d("ContextMenuButton",d(r.TextBlock,"Redo"),{click:function(t,e){t.diagram.commandHandler.redo()}},new r.Binding("visible","",(function(t){return t.diagram&&t.diagram.commandHandler.canRedo()})).ofObject())),e.addDiagramListener("SelectionMoved",(function(t){var n=e.findNodeForKey(0).location.x;e.selection.each((function(t){if(0===t.data.parent){var e=t.location.x;n<e&&"right"!==t.data.dir?c(t,"right"):n>e&&"left"!==t.data.dir&&c(t,"left"),l(t)}}))})),this.$axios.$get("api/contents/"+this.params,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}}).then((function(n){t.nodes=n.data.attributes.content,e.model=new r.Model.fromJson({class:"go.TreeModel",nodeDataArray:t.nodes})}))},methods:{save:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={room_id:t.params,content:t.nodes},t.$axios.$patch("api/contents/"+t.params,n,{headers:{"X-Access-Token":localStorage.getItem("X-Access-Token")}});case 2:case"end":return e.stop()}}),e)})))()}}},l=n(55),m=n(65),f=n.n(m),h=n(165),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("v-btn",{on:{click:t.save}},[t._v("SAVE")])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[e("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"myDiagramDiv"}})])}],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:h.a})},935:function(t,e,n){"use strict";n.r(e);var o={components:{mindmap:n(689).default}},r=n(55),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mindmap")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Mindmap:n(689).default})}}]);